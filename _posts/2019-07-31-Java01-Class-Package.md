---
layout:     post                   
title:      Java01: 面向对象与封装
subtitle:   类与对象, 封装, 构造        
date:       2019-07-31        
author:     HY                 
header-img: img/post-bg-2015.jpg
catalog: true                  
tags:                   
    - Java
    - 面向对象
    - 封装
    - 
---

# Java01: 面向对象与封装

## 1 面向对象

这里的对象泛指现实中一切事物，每种事物都具备自己的**属性**和**行为**。
面向对象的语言中，包含了三大基本特征，即**封装、继承和多态**


### 1.1 类与对象

#### 类

类是一组相关属性和行为的集合，一类事物的模板，使用事物的**属性特征**和**行为特征**来描述该类事物。

类的定义格式：

```java
//成员变量：对应事物的属性  成员方法：对应事物的行为
public class ClassName {
    //成员变量
    String name；//姓名
    int age；//年龄
    //成员方法 
    publicvoid study() {
        System.out.println("好好学习，天天向上");
    }
}
```
注意：
> 没有`static`关键字


#### 对象/实例

对象是一类事物的具体体现，是类的一个实例，必然具备该类事物的属性和行为。

对象的使用

    1. 导包
    import 包名称.类名称
    对于和当前类属于同一个包的情况下,可省略包语句
    2. 创建: 必须用new操作符, 结果是一个引用类型
    类名称 对象名 = new 类名称()
    3. 使用
    对象名.成员变量名
    对象名.成员方法名(参数列表)

成员变量的默认值

    基本类型
        整数（byte，short，int，long）:  0
        浮点数（ﬂoat，double）:  0.0
        字符（char）: '\u0000'
        布尔（boolean）: false
    引用类型 
        数组，类，接口: null

#### 类与对象的关系

- 类是对一类事物的描述，是抽象的。
- 对象是一类事物的实例，是具体的。
- 类是对象的模板，对象是类的实体。


### 1.2 成员变量和局部变量区别

- 在类中的位置不同 重点
    - 成员变量：类中，方法外
    - 局部变量：方法中或者方法声明上(形式参数) 
- 作用范围不一样 重点
    - 成员变量：类中
    - 局部变量：方法中
- 初始化值的不同 重点
    - 成员变量：有默认值
    - 局部变量：**没有默认值。必须先定义，赋值，最后使用**
        - 参数在调用的时候必然会被赋值
- 在内存中的位置不同 了解
    - 成员变量：堆内存
    - 局部变量：栈内存
- 生命周期不同 了解
    - 成员变量：随着对象的创建而存在，随着对象的消失而消失
    - 局部变量：随着方法的调用而存在，随着方法的调用完毕而消失


### 1.3 对象内存

#### 一个对象，调用一个方法
1. 类定义相关入方法区
2. 执行main:
    - main入栈
3. 定义对象:
    - 堆内存开辟,返回对象的地址值
    - 成员变量:在堆内生成变量并赋(默认)值
    - 成员方法:方法区类中成员方法的地址
4. 执行对象的方法:
    - 方法入栈
    - 沿地址找:对象地址(指向堆)->方法地址(指向方法区)
    - 执行完毕,出栈
#### 两个对象，调用同一个方法
- 对象的堆内地址不同,但都指向同一方法区类的方法

#### 两个引用指向同一个对象

- 两个引用的地址是相同的

#### 使用对象类型作为方法的参数

当一个对象作为参数,传递到方法当中时候,实际上传递的是**对象的地址值**

#### 使用对象类型作为方法的返回值

当一个对象类型作为方法的返回值时候,返回值是对象的地址值

## 2 封装

封装可以被认为是一个保护屏障，防止该类的代码和数据被其他类随意访问。要访问该类的数据，必须通过指定的方式。

### 2.1 封装的步骤

1. 使用 `private` 关键字来修饰成员变量。
    
格式: private 数据类型 变量名 ；
    
    
2. 对需要访问的成员变量，提供对应的一对 `getXxx` 方法 、 `setXxx` 方法。

注意:
> `getXxx` 方法不能有参数, `setXxx` 方法不能有返回值



### 2.2 封装的优化

#### this 

当方法的局部变量和类的成员变量重名时,根据**就近原则**,优先使用局部变量,如果想访问成员变量,使用 `this` 关键字

this代表所在类的当前对象的引用（地址值）, 谁在调用, this就代表谁

格式: 
    
    this.成员变量名；


#### 构造方法

当一个对象被创建时候，构造方法用来初始化该对象，给对象的成员变量赋初始值。

定义格式:

    修饰符 构造方法名(参数列表){
        // 方法体
    }
    
注意:
> - 方法名与它所在的类名相同
- 它没有返回值, 所以不需要返回值类型, 不需要void
- 如果你不提供构造方法，系统会给出无参数构造方法。
- 如果你提供了构造方法，系统将不再提供无参数构造方法。
- 构造方法是可以**重载**的，既可以定义参数，也可以不定义参数。


### 2.3 标准代码——JavaBean

#### 要求

1. 所有的成员变量都要使用private关键字修饰
2. 为每一个成员变量编写一对Getter/Setter方法
3. 编写一个无参数的构造函方法
4. 编写一个全参数的构造方法

#### 自动生成代码

1. 选择 Code->Generate
2. 快捷键 Alt+Insert
3. 选择要自动生成的代码, 一般set和get放最后













